{% extends 'base.html' %}
{% block content %}
{% load static %}
<div class="p-3">
  <div class="container">
    <div class="row mt-3">
      <div class="col mx-auto mb-3">
          <form method="get" class="mb-3">
              <label>
                  <input type="checkbox" name="public" value="1" {% if template_data.show_public %}checked{% endif %}>
                  Show Public Memories
              </label>
              <button type="submit" class="btn btn-sm btn-outline-secondary ms-2">Apply</button>
          </form>

          <h2>List of Memories</h2>
        <hr />
        <div class="row">
          {% for memory in template_data.memories %}
          <div class="col-md-4 col-lg-3 mb-2">
            <div class="p-2 card align-items-center pt-4">
              <!-- <img src="{% static 'img/about.jpg' %}"
              class="card-img-top rounded"> -->
              <div class="card-body text-center">
                <a href="{% url 'memories.show' id=memory.id %}"
                class="btn bg-dark text-white">
                {{ memory.title }}
              </a>
                  {% if memory.is_public %}
                  <p class="text-muted mt-2"><small>Public by {{ memory.business_label }}</small></p>
                  {% else %}
                  <p class="text-muted mt-2"><small>Private</small></p>
                  {% endif %}

              </div>
            </div>
          </div>
          {% endfor %}
          <!--{% if user.is_authenticated %} -->
        <div class="container mt-4">
          <div class="row justify-content-center">
          <div class="col-12">
          <div class="card shadow p-3 mb-4 rounded">
                  <div class="card-body">
                  <b class="text-start">Create a Memory
                  </b><br /><br />
                      <form method="POST" action="{% url 'memories.create'%}" enctype="multipart/form-data">

                      {% csrf_token %}
                  <p>
                  <label for="Title">Title:</label>
                  <textarea name="title" required
                  class="form-control"
                  id="title"></textarea>
                  </p>
                  <p>
                  <label for="date">Date (YYYY-MM-DD):</label>
                  <textarea name="date" required
                  class="form-control"
                  id="date"></textarea>
                  </p>
                  <p>
                  <label for="description">Description:</label>
                  <textarea name="description" required
                  class="form-control"
                  id="description"></textarea>
                  </p>
                          <p>
                          <label for="image">Image:</label>
                          <input type="file" name="image" class="form-control" id="image" accept="image/*" />
                      </p>

                          <div class="text-center">
                  <button type="submit"
                          class="btn bg-dark text-white">
                          Add Memory
                  </button>
                  </div>
                  </form>
                  </div>
          </div>
          </div>
          </div>
          </div>
         <!-- {% endif %} -->
        </div>
      </div>
    </div>
</div>
{% endblock content %}